<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ps2KeyboardHost: ps2::Keyboard&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ps2KeyboardHost
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Allows you to read from one or more PS2-style keyboards on an Arduino.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classps2_1_1_keyboard.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classps2_1_1_keyboard-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ps2::Keyboard&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Instances of this class can be used to interface with a PS2 keyboard. This class does not decode the keystroke protocol, but rather provides the data from the keyboard in a raw form. You either need to write code that directly understands what the PS2 is providing, or use one of the provided translator classes (e.g. <a class="el" href="classps2_1_1_ansi_translator.html">AnsiTranslator</a>).  
 <a href="classps2_1_1_keyboard.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ps2___keyboard_8h_source.html">ps2_Keyboard.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a92dcb77f1ff16a4904572a5095fa55ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a92dcb77f1ff16a4904572a5095fa55ff">Keyboard</a> (Diagnostics &amp;diagnostics= *Diagnostics::defaultInstance())</td></tr>
<tr class="separator:a92dcb77f1ff16a4904572a5095fa55ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5408d56290a9df4d03488aa1547a5f7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a5408d56290a9df4d03488aa1547a5f7f">begin</a> ()</td></tr>
<tr class="separator:a5408d56290a9df4d03488aa1547a5f7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e50180406985b20073a56aa62f49d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceps2.html#a5bc33a2de7ec8ab6dd653393f378956b">KeyboardOutput</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#af5e50180406985b20073a56aa62f49d0">readScanCode</a> ()</td></tr>
<tr class="separator:af5e50180406985b20073a56aa62f49d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab423032c297b959e5e99bef56f392831"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#ab423032c297b959e5e99bef56f392831">sendLedStatus</a> (<a class="el" href="namespaceps2.html#ab1f1a2199d2e9075dbc006a91fd2f71c">KeyboardLeds</a> ledStatus)</td></tr>
<tr class="memdesc:ab423032c297b959e5e99bef56f392831"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the keyboard's onboard LED's.  <a href="#ab423032c297b959e5e99bef56f392831">More...</a><br /></td></tr>
<tr class="separator:ab423032c297b959e5e99bef56f392831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35abec5da3fc579e0b0549b89f73fdd0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a35abec5da3fc579e0b0549b89f73fdd0">reset</a> ()</td></tr>
<tr class="memdesc:a35abec5da3fc579e0b0549b89f73fdd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the keyboard and returns true if the keyboard appears well, false otherwise.  <a href="#a35abec5da3fc579e0b0549b89f73fdd0">More...</a><br /></td></tr>
<tr class="separator:a35abec5da3fc579e0b0549b89f73fdd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5249a57a6c28eadb7cbff55a03c7aa3f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a5249a57a6c28eadb7cbff55a03c7aa3f">readId</a> ()</td></tr>
<tr class="memdesc:a5249a57a6c28eadb7cbff55a03c7aa3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the device ID returned by the keyboard - according to the documentation, this will always be 0xab83. In the event of an error, this will return 0xffff.  <a href="#a5249a57a6c28eadb7cbff55a03c7aa3f">More...</a><br /></td></tr>
<tr class="separator:a5249a57a6c28eadb7cbff55a03c7aa3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18dcb3667bf963e82b4b059813760420"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceps2.html#ab6ca63d33b95d82c35be1bb3e5479c80">ScanCodeSet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a18dcb3667bf963e82b4b059813760420">getScanCodeSet</a> ()</td></tr>
<tr class="memdesc:a18dcb3667bf963e82b4b059813760420"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current scancode set.  <a href="#a18dcb3667bf963e82b4b059813760420">More...</a><br /></td></tr>
<tr class="separator:a18dcb3667bf963e82b4b059813760420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad254e06fae6fb5eed1b20d25922027"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a1ad254e06fae6fb5eed1b20d25922027">setScanCodeSet</a> (<a class="el" href="namespaceps2.html#ab6ca63d33b95d82c35be1bb3e5479c80">ScanCodeSet</a> newScanCodeSet)</td></tr>
<tr class="memdesc:a1ad254e06fae6fb5eed1b20d25922027"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current scancode set.  <a href="#a1ad254e06fae6fb5eed1b20d25922027">More...</a><br /></td></tr>
<tr class="separator:a1ad254e06fae6fb5eed1b20d25922027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5997847656caeb447c3b789a6c18d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a7c5997847656caeb447c3b789a6c18d8">echo</a> ()</td></tr>
<tr class="memdesc:a7c5997847656caeb447c3b789a6c18d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the "Echo" command to the keyboard, which should send an "Echo" in return. This can be used to verifies that a keyboard is connected and working properly.  <a href="#a7c5997847656caeb447c3b789a6c18d8">More...</a><br /></td></tr>
<tr class="separator:a7c5997847656caeb447c3b789a6c18d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a315429a66ee7e8c882e5b7c1186a73f8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a315429a66ee7e8c882e5b7c1186a73f8">setTypematicRateAndDelay</a> (<a class="el" href="namespaceps2.html#a511e9920b7f2ef164f91c1740d0244bf">TypematicRate</a> rate, <a class="el" href="namespaceps2.html#a4adac7b7b12f82a8604ab93b647ba858">TypematicStartDelay</a> startDelay)</td></tr>
<tr class="memdesc:a315429a66ee7e8c882e5b7c1186a73f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the typematic rate (how fast presses come) and the delay (the time between key down and the start of auto-repeating.  <a href="#a315429a66ee7e8c882e5b7c1186a73f8">More...</a><br /></td></tr>
<tr class="separator:a315429a66ee7e8c882e5b7c1186a73f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de2cd535e25d7f0cd0df9a5f4a1c3aa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a9de2cd535e25d7f0cd0df9a5f4a1c3aa">resetToDefaults</a> ()</td></tr>
<tr class="memdesc:a9de2cd535e25d7f0cd0df9a5f4a1c3aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restores scan code set, typematic rate, and typematic delay.  <a href="#a9de2cd535e25d7f0cd0df9a5f4a1c3aa">More...</a><br /></td></tr>
<tr class="separator:a9de2cd535e25d7f0cd0df9a5f4a1c3aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6abce6de6e8331f8abce25a322a91a6d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a6abce6de6e8331f8abce25a322a91a6d">enable</a> ()</td></tr>
<tr class="memdesc:a6abce6de6e8331f8abce25a322a91a6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows the keyboard to start sending data again.  <a href="#a6abce6de6e8331f8abce25a322a91a6d">More...</a><br /></td></tr>
<tr class="separator:a6abce6de6e8331f8abce25a322a91a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6972396297e3ecf4b3b2bbefb32e51e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#ad6972396297e3ecf4b3b2bbefb32e51e">disable</a> ()</td></tr>
<tr class="memdesc:ad6972396297e3ecf4b3b2bbefb32e51e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes it so the keyboard will no longer responsd to keystrokes.  <a href="#ad6972396297e3ecf4b3b2bbefb32e51e">More...</a><br /></td></tr>
<tr class="separator:ad6972396297e3ecf4b3b2bbefb32e51e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd5fe3dd30e9d3fd7a11915366fa0fa8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#acd5fe3dd30e9d3fd7a11915366fa0fa8">enableBreakAndTypematic</a> ()</td></tr>
<tr class="memdesc:acd5fe3dd30e9d3fd7a11915366fa0fa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-enables typematic and break (unmake, key release) for all keys.  <a href="#acd5fe3dd30e9d3fd7a11915366fa0fa8">More...</a><br /></td></tr>
<tr class="separator:acd5fe3dd30e9d3fd7a11915366fa0fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2857f409218e80ac0425357254d15468"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a2857f409218e80ac0425357254d15468">disableBreakCodes</a> ()</td></tr>
<tr class="memdesc:a2857f409218e80ac0425357254d15468"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes the keyboard no longer send "break" or "unmake" events when keys are released.  <a href="#a2857f409218e80ac0425357254d15468">More...</a><br /></td></tr>
<tr class="separator:a2857f409218e80ac0425357254d15468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93aae9e45001617e1eb100c5bc70d9b8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a93aae9e45001617e1eb100c5bc70d9b8">disableBreakCodes</a> (const byte *specificKeys, int numKeys)</td></tr>
<tr class="memdesc:a93aae9e45001617e1eb100c5bc70d9b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instructs the keyboard to stop sending "break" codes for some keys (that is, it disables the notifications that come when a key is released.)  <a href="#a93aae9e45001617e1eb100c5bc70d9b8">More...</a><br /></td></tr>
<tr class="separator:a93aae9e45001617e1eb100c5bc70d9b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55fc3018eeeb454a0505fba0c1da4c8e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a55fc3018eeeb454a0505fba0c1da4c8e">disableTypematic</a> ()</td></tr>
<tr class="memdesc:a55fc3018eeeb454a0505fba0c1da4c8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes the keyboard no longer send multiple key down events while a key is held down.  <a href="#a55fc3018eeeb454a0505fba0c1da4c8e">More...</a><br /></td></tr>
<tr class="separator:a55fc3018eeeb454a0505fba0c1da4c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaea565ee6321b3d1aaa79bab5c74ee3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#acaea565ee6321b3d1aaa79bab5c74ee3">disableBreakAndTypematic</a> ()</td></tr>
<tr class="memdesc:acaea565ee6321b3d1aaa79bab5c74ee3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-enables typematic and break for all keys.  <a href="#acaea565ee6321b3d1aaa79bab5c74ee3">More...</a><br /></td></tr>
<tr class="separator:acaea565ee6321b3d1aaa79bab5c74ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd616087185abf52a71f21ae27325b2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a1cd616087185abf52a71f21ae27325b2">disableTypematic</a> (const byte *specificKeys, int numKeys)</td></tr>
<tr class="memdesc:a1cd616087185abf52a71f21ae27325b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instructs the keyboard to disable typematic (additional key down events when the user presses and holds a key) for a given set of keys.  <a href="#a1cd616087185abf52a71f21ae27325b2">More...</a><br /></td></tr>
<tr class="separator:a1cd616087185abf52a71f21ae27325b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ead45c4a56313e1695c62a17ea9c32a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classps2_1_1_keyboard.html#a7ead45c4a56313e1695c62a17ea9c32a">disableBreakAndTypematic</a> (const byte *specificKeys, int numKeys)</td></tr>
<tr class="memdesc:a7ead45c4a56313e1695c62a17ea9c32a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instructs the keyboard to disable typematic (additional key down events when the user presses and holds a key) and break sequences (events that tell you when a key has been released) for a given set of keys.  <a href="#a7ead45c4a56313e1695c62a17ea9c32a">More...</a><br /></td></tr>
<tr class="separator:a7ead45c4a56313e1695c62a17ea9c32a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt;<br />
class ps2::Keyboard&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;</h3>

<p>Instances of this class can be used to interface with a PS2 keyboard. This class does not decode the keystroke protocol, but rather provides the data from the keyboard in a raw form. You either need to write code that directly understands what the PS2 is providing, or use one of the provided translator classes (e.g. <a class="el" href="classps2_1_1_ansi_translator.html">AnsiTranslator</a>). </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">DataPin</td><td>The pin number of the pin that's connected to the PS2 data wire. </td></tr>
    <tr><td class="paramname">ClockPin</td><td>The pin number of the pin that's connected to the PS2 clock wire. This pin must be one that supports interrupts on your board. </td></tr>
    <tr><td class="paramname">BufferSize</td><td>The size of the internal buffer that stores the bytes coming from the keyboard between the time they're received from the ClockPin-based interrupts and the time they're consumed by calls to ReadScanCode. If you are calling that method very frequently (many times per millisecond) then 1 is enough. Expect each keystroke to eat about 4 bytes, so 16 can hold up to 4 keystrokes. There's nothing wrong with larger numbers, but you probably want some amount of responsiveness to user commands. </td></tr>
    <tr><td class="paramname">Diagnostics</td><td>A class that will record any unpleasantness that befalls your program such as the aforementioned buffer overflows. This is purely a debugging aid. If you don't need to be doing any debugging, you can stick wit the default, <a class="el" href="classps2_1_1_null_diagnostics.html">NullDiagnostics</a>, which has no-op implementations for all the event handlers. The C++ compiler will optimize empty implementations completely away, so you pay no penalty for having this debug code in your project if you don't use it. The <a class="el" href="classps2_1_1_simple_diagnostics.html">SimpleDiagnostics</a> implementation provides an implementation that records all the events.</td></tr>
  </table>
  </dd>
</dl>
<p>A great source of information about the PS2 keyboard can be found here: <a href="http://www.computer-engineering.org/ps2keyboard/">http://www.computer-engineering.org/ps2keyboard/</a>. This documentation assumes you have a basic grasp of that.</p>
<p>Most programs will use this class like this:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="classps2_1_1_keyboard.html">ps2::Keyboard&lt;4,2&gt;</a> ps2Keyboard(diagnostics);</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> setup() {</div><div class="line">  ps2Keyboard.begin();</div><div class="line">  ps2Keyboard.reset();</div><div class="line">  <span class="comment">// more keyboard setup if needed (e.g. set the scan code set)</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> loop() {</div><div class="line">  <a class="code" href="namespaceps2.html#a5bc33a2de7ec8ab6dd653393f378956b">ps2::KeyboardOutput</a> scanCode = ps2Keyboard.readScanCode();</div><div class="line">  <span class="keywordflow">if</span> (scanCode != <a class="code" href="namespaceps2.html#ab1f1a2199d2e9075dbc006a91fd2f71ca334c4a4c42fdb79d7ebc3e73b517e6f8">ps2::KeyboardOutput::none</a>) {</div><div class="line">    respondTo(scanCode);</div><div class="line">  };</div><div class="line">}</div></div><!-- fragment --><p>In this example, the keyboard is wired up with the data pin connected to pin 4 and the clock pin connected to pin 2. The setup function should start up the keyboard. In many cases, you really don't have to do anything other than call 'begin' to get going. Here, it calls 'reset' to undo whatever mode the keyboard might already be in. In the real world, this is unlikely to ever be necessary, but there you are. A more likely move would be to set the keyboard up in the PS/2 scan code set and perhaps disabling typematic or enabling unmake codes to make it easier to interpret the keyboard's protocol.</p>
<p>You should poll the keyboard from your loop implementation, as illustrated here.</p>
<p>With all things Arduino, you should understand the performance.  takes only a few machine instructions to complete. The methods that push data to the keyboard take longer (on the order of milliseconds) because of the handshake between the two devices and the throttling of sending one bit at a time at 10KHz.</p>
<p>All of the keyboard setup methods return a bool that reports success or not; you can test them if you feel it necessary, but few applications will really need to.</p>
<p>The biggest source of legitimate error is long-running interrupts which cause the PS2 clock interrupt to be skipped. The response to the clock pin must be swift and consistent, else you'll get garbled messages. The protocol is just robust enough to know that a failure has happened, but not robust enough to fully recover. If you're going to have another interrupt source in your project, see to it that its interrupt handler is as quick as possible. For its part, the PS2 handler is just a few instructions in all cases.</p>
<p>If you supply an OnReceivedFunctor, then the operator() method of the object will be called each time a code is seen on the output line that is not been requested by this class itself. (That is, if a key is pressed, it'll get called for the bytes associated with that, but if you call the method to set the LED, the Ack code that the keyboard sends back does not generate a call. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a92dcb77f1ff16a4904572a5095fa55ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92dcb77f1ff16a4904572a5095fa55ff">&#9670;&nbsp;</a></span>Keyboard()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::<a class="el" href="classps2_1_1_keyboard.html">Keyboard</a> </td>
          <td>(</td>
          <td class="paramtype">Diagnostics &amp;&#160;</td>
          <td class="paramname"><em>diagnostics</em> = <code>*Diagnostics::defaultInstance()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5408d56290a9df4d03488aa1547a5f7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5408d56290a9df4d03488aa1547a5f7f">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Starts the keyboard "service" by registering the external interrupt. setting the pin modes correctly and driving those needed to high. The best place to call this method is in the setup routine. </p>

</div>
</div>
<a id="ad6972396297e3ecf4b3b2bbefb32e51e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6972396297e3ecf4b3b2bbefb32e51e">&#9670;&nbsp;</a></span>disable()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::disable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Makes it so the keyboard will no longer responsd to keystrokes. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the keyboard responded appropriately and false otherwise. </dd></dl>

</div>
</div>
<a id="acaea565ee6321b3d1aaa79bab5c74ee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaea565ee6321b3d1aaa79bab5c74ee3">&#9670;&nbsp;</a></span>disableBreakAndTypematic() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::disableBreakAndTypematic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Re-enables typematic and break for all keys. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the keyboard responded appropriately and false otherwise. </dd></dl>

</div>
</div>
<a id="a7ead45c4a56313e1695c62a17ea9c32a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ead45c4a56313e1695c62a17ea9c32a">&#9670;&nbsp;</a></span>disableBreakAndTypematic() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::disableBreakAndTypematic </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>specificKeys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numKeys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Instructs the keyboard to disable typematic (additional key down events when the user presses and holds a key) and break sequences (events that tell you when a key has been released) for a given set of keys. </p>
<p>This method has no effect if you are not in the <a class="el" href="namespaceps2.html">ps2</a> scan code set!</p>
<p>After calling this method, the keyboard will be disabled. call enable to fix that.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">specificKeys</td><td>An array consisting of valid set-3 scan codes. If it contains a single invalid one, mayhem could ensue. </td></tr>
    <tr><td class="paramname">numKeys</td><td>The number of keys to change </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2857f409218e80ac0425357254d15468"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2857f409218e80ac0425357254d15468">&#9670;&nbsp;</a></span>disableBreakCodes() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::disableBreakCodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Makes the keyboard no longer send "break" or "unmake" events when keys are released. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the keyboard responded appropriately and false otherwise. </dd></dl>

</div>
</div>
<a id="a93aae9e45001617e1eb100c5bc70d9b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93aae9e45001617e1eb100c5bc70d9b8">&#9670;&nbsp;</a></span>disableBreakCodes() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::disableBreakCodes </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>specificKeys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numKeys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Instructs the keyboard to stop sending "break" codes for some keys (that is, it disables the notifications that come when a key is released.) </p>
<p>This method has no effect if you are not in the <a class="el" href="namespaceps2.html">ps2</a> scan code set!</p>
<p>After calling this method, the keyboard will be disabled. call enable to fix that.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">specificKeys</td><td>An array consisting of valid set-3 scan codes. If it contains a single invalid one, mayhem could ensue. </td></tr>
    <tr><td class="paramname">numKeys</td><td>The number of keys to change </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a55fc3018eeeb454a0505fba0c1da4c8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55fc3018eeeb454a0505fba0c1da4c8e">&#9670;&nbsp;</a></span>disableTypematic() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::disableTypematic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Makes the keyboard no longer send multiple key down events while a key is held down. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the keyboard responded appropriately and false otherwise. </dd></dl>

</div>
</div>
<a id="a1cd616087185abf52a71f21ae27325b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd616087185abf52a71f21ae27325b2">&#9670;&nbsp;</a></span>disableTypematic() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::disableTypematic </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>specificKeys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numKeys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Instructs the keyboard to disable typematic (additional key down events when the user presses and holds a key) for a given set of keys. </p>
<p>This method has no effect if you are not in the <a class="el" href="namespaceps2.html">ps2</a> scan code set!</p>
<p>After calling this method, the keyboard will be disabled. call enable to fix that.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">specificKeys</td><td>An array consisting of valid set-3 scan codes. If it contains a single invalid one, mayhem could ensue. </td></tr>
    <tr><td class="paramname">numKeys</td><td>The number of keys to change </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7c5997847656caeb447c3b789a6c18d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c5997847656caeb447c3b789a6c18d8">&#9670;&nbsp;</a></span>echo()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::echo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends the "Echo" command to the keyboard, which should send an "Echo" in return. This can be used to verifies that a keyboard is connected and working properly. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the keyboard responded appropriately and false otherwise. </dd></dl>

</div>
</div>
<a id="a6abce6de6e8331f8abce25a322a91a6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6abce6de6e8331f8abce25a322a91a6d">&#9670;&nbsp;</a></span>enable()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::enable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows the keyboard to start sending data again. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the keyboard responded appropriately and false otherwise. </dd></dl>

</div>
</div>
<a id="acd5fe3dd30e9d3fd7a11915366fa0fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd5fe3dd30e9d3fd7a11915366fa0fa8">&#9670;&nbsp;</a></span>enableBreakAndTypematic()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::enableBreakAndTypematic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Re-enables typematic and break (unmake, key release) for all keys. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the keyboard responded appropriately and false otherwise. </dd></dl>

</div>
</div>
<a id="a18dcb3667bf963e82b4b059813760420"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18dcb3667bf963e82b4b059813760420">&#9670;&nbsp;</a></span>getScanCodeSet()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceps2.html#ab6ca63d33b95d82c35be1bb3e5479c80">ScanCodeSet</a> <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::getScanCodeSet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the current scancode set. </p>

</div>
</div>
<a id="a5249a57a6c28eadb7cbff55a03c7aa3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5249a57a6c28eadb7cbff55a03c7aa3f">&#9670;&nbsp;</a></span>readId()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::readId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the device ID returned by the keyboard - according to the documentation, this will always be 0xab83. In the event of an error, this will return 0xffff. </p>

</div>
</div>
<a id="af5e50180406985b20073a56aa62f49d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5e50180406985b20073a56aa62f49d0">&#9670;&nbsp;</a></span>readScanCode()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceps2.html#a5bc33a2de7ec8ab6dd653393f378956b">KeyboardOutput</a> <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::readScanCode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the last code sent by the keyboard. You should call this function frequently (several times per millisecond) as there is no buffering. If there is nothing to read, this method will return 'none'. It can also return 'garbled' if there's been a framing error. You should probably just ignore this result, the keyboard will attempt to retry, but that's far from a sure-thing. </p>

</div>
</div>
<a id="a35abec5da3fc579e0b0549b89f73fdd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35abec5da3fc579e0b0549b89f73fdd0">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the keyboard and returns true if the keyboard appears well, false otherwise. </p>
<p>This can take up to a second to complete. (Because of the Protocol spec). </p><dl class="section return"><dt>Returns</dt><dd>Returns true if the keyboard responded appropriately and false otherwise. </dd></dl>

</div>
</div>
<a id="a9de2cd535e25d7f0cd0df9a5f4a1c3aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9de2cd535e25d7f0cd0df9a5f4a1c3aa">&#9670;&nbsp;</a></span>resetToDefaults()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::resetToDefaults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restores scan code set, typematic rate, and typematic delay. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the keyboard responded appropriately and false otherwise. </dd></dl>

</div>
</div>
<a id="ab423032c297b959e5e99bef56f392831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab423032c297b959e5e99bef56f392831">&#9670;&nbsp;</a></span>sendLedStatus()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::sendLedStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceps2.html#ab1f1a2199d2e9075dbc006a91fd2f71c">KeyboardLeds</a>&#160;</td>
          <td class="paramname"><em>ledStatus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the keyboard's onboard LED's. </p>
<p>This method takes several milliseconds and ties up the communication line with the keyboard. You'll probably want to keep a variable somewhere that records what the current state of the LED's are, and ensure that you only call this function when they actually change. </p><dl class="section return"><dt>Returns</dt><dd>Returns true if the keyboard responded appropriately and false otherwise. </dd></dl>

</div>
</div>
<a id="a1ad254e06fae6fb5eed1b20d25922027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ad254e06fae6fb5eed1b20d25922027">&#9670;&nbsp;</a></span>setScanCodeSet()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::setScanCodeSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceps2.html#ab6ca63d33b95d82c35be1bb3e5479c80">ScanCodeSet</a>&#160;</td>
          <td class="paramname"><em>newScanCodeSet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the current scancode set. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the keyboard responded appropriately and false otherwise. </dd></dl>

</div>
</div>
<a id="a315429a66ee7e8c882e5b7c1186a73f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a315429a66ee7e8c882e5b7c1186a73f8">&#9670;&nbsp;</a></span>setTypematicRateAndDelay()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DataPin, int ClockPin, int BufferSize = 16, typename Diagnostics = NullDiagnostics, typename OnReceivedFunctor = NullReceiveFunctor&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classps2_1_1_keyboard.html">ps2::Keyboard</a>&lt; DataPin, ClockPin, BufferSize, Diagnostics, OnReceivedFunctor &gt;::setTypematicRateAndDelay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceps2.html#a511e9920b7f2ef164f91c1740d0244bf">TypematicRate</a>&#160;</td>
          <td class="paramname"><em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceps2.html#a4adac7b7b12f82a8604ab93b647ba858">TypematicStartDelay</a>&#160;</td>
          <td class="paramname"><em>startDelay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the typematic rate (how fast presses come) and the delay (the time between key down and the start of auto-repeating. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the keyboard responded appropriately and false otherwise. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="ps2___keyboard_8h_source.html">ps2_Keyboard.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceps2.html">ps2</a></li><li class="navelem"><a class="el" href="classps2_1_1_keyboard.html">Keyboard</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
